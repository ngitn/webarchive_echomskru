# webarchive_echomskru
Скрапер для извлечения старого контента с уже несуществующего сайта Эха Москвы из архива web.archive.org

## Как пользоваться

### Аргументы

- `--url` или `-u`: Откуда начинаем скрапить архив (обычно первая страница гостя на Эхо Москвы)
- `--speed` или `-s`: Интервал в секундах от 0 до 10 для каждой страницы. Дефолтное значение `0`
- `--pages` или `-s`: Количество страниц прежде чем скрипт встанет на паузу чтобы не получать долгий бан. Дефолтное значение `10`
- `--pause` или `-s`: Пауза в секундах. Дефолтное значение `60`
- `--retry` или `-s`: Данный аргумент используется при повторном сканировании. Дело в том, что скрипт пропускает страницы для которых web.archive.org выдает ошибки (400-600 STATUS CODE). Потом скрипт помечает их в sqlite базе как `skipped`. Используя данный аргумент скрипт повторно пытается сохранить html страницы и при удаче помечает их как `done`

### Пример использования консольной утилиты:

```sh
python3 script.py --url='https://web.archive.org/web/20220301222215/https://echo.msk.ru/guests/475/' --speed=3 --pages=15 --pause=20
```
